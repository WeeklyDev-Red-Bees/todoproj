<div class="task-container" [class.done]="task.completed">
	<div class="check">
		<input [attr.id]="'checkbox-' + (idx + 1)" type="checkbox" [checked]="task.completed" (click)="checkClick()">
		<label class="icon-check" [attr.for]="'checkbox-' + (idx + 1)"></label>
	</div>
	<div class="task-info">
	<!--<div class="task-info" (mouseenter)="setFocus(true)" (mouseleave)="setFocus(false)" [class.focused]="focused">-->
		<div *ngIf="idx !== 0" class="title">
			{{ task.title }}
		</div>
		<input *ngIf="idx === 0" [(ngModel)]="title" name="title" type="text" class="title">
		<!--<input (focus)="setFocus(true)" (blur)="setFocus(false)" *ngIf="idx === 0" [(ngModel)]="title" name="title" type="text" class="title">-->
		<i class="icon" [class.icon-chevron-up]="extended" [class.icon-chevron-down]="!extended" (click)="extend()"></i>
		<div class="desc">
		<!--<div class="desc"-->
		<!--	[style.max-height]="focused.maxHeight"-->
		<!--	[style.transition]="focused.transition">-->
			<p *ngIf="idx !== 0">{{ task.desc }}</p>
			<input *ngIf="idx === 0" [(ngModel)]="desc" name="desc" type="text">
			<!--<input (focus)="setFocus(true)" (blur)="setFocus(false)" *ngIf="idx === 0" [(ngModel)]="desc" name="desc" type="text">-->
			<div class="ui-panel">
				<i *ngFor="let color of colors" class=" icon icon-star {{ color }}" (click)="setColor(color)"></i><i class="icon icon-trash" (click)="deleteTaskModal.open('sm')"></i>
				<!--<i class="icon icon-star red"></i> <i class="icon icon-star orange"></i> <i class="icon icon-star yellow"></i> <i class="icon icon-star green"></i> <i class="icon icon-star blue"></i> <i class="icon icon-star purple"></i><i class="icon icon-trash"></i>-->
			</div>
		</div>
	</div>
	<div class="task-color {{ task.color }}"></div>
</div>
<modal #deleteTaskModal [keyboard]="true" [backdrop]="true" (onClose)="deleteTask()">
	<modal-header [show-close]="true">
		<h4 class="modal-title">Delete Task</h4>
	</modal-header>
	<modal-body>
		<p>Are you sure you wish to delete this task?</p>
	</modal-body>
	<modal-footer>
		<button type="button" class="btn submit" data-dismiss="modal" (click)="deleteTaskModal.dismiss()">Cancel</button>
		<button type="button" class="btn cancel" (click)="deleteTaskModal.close()">Delete</button>
	</modal-footer>
</modal>